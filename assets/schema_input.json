{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/broadinstitute/nf-pooled-cellpainting/master/assets/schema_input.json",
    "title": "broadinstitute/nf-pooled-cellpainting pipeline - params.input schema",
    "description": "Schema for the file provided with params.input",
    "type": "array",
    "items": {
        "type": "object",
        "properties": {
            "path": {
                "type": "string",
                "format": "file-path",
                "pattern": "^\\S+$",
                "errorMessage": "File path must be provided and cannot contain spaces"
            },
            "arm": {
                "type": "string",
                "pattern": "^\\S+$",
                "errorMessage": "Experiment arm must be provided and cannot contain spaces",
                "meta": ["arm"]
            },
            "batch": {
                "type": "string",
                "pattern": "^\\S+$",
                "errorMessage": "Batch identifier must be provided and cannot contain spaces",
                "meta": ["batch"]
            },
            "plate": {
                "type": "string",
                "pattern": "^\\S+$",
                "errorMessage": "Plate identifier must be provided and cannot contain spaces",
                "meta": ["plate"]
            },
            "well": {
                "type": "string",
                "pattern": "^[A-Z][0-9]+$",
                "errorMessage": "Well position must be provided in format like A1, B2, etc.",
                "meta": ["well"]
            },
            "site": {
                "type": "integer",
                "minimum": 0,
                "errorMessage": "FOV of the image must be a non-negative integer (starting at 0 or 1, but be consistent)",
                "meta": ["site"]
            },
            "cycle": {
                "type": "integer",
                "minimum": 1,
                "errorMessage": "The imaging round must be a positive integer",
                "meta": ["cycle"]
            },
            "channels": {
                "type": "string",
                "pattern": "^[^,]+(,[^,]+)*$",
                "errorMessage": "Channel names must be provided as comma-separated values without spaces around commas",
                "meta": ["channels"]
            },
            "n_frames": {
                "type": "integer",
                "minimum": 1,
                "errorMessage": "Number of frames must be a positive integer",
                "meta": ["n_frames"]
            }
        },
        "required": ["path", "arm", "batch", "plate", "well", "site", "cycle", "channels"]
    }
}
